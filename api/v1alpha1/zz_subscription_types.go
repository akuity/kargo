// Code generated by quicktype. DO NOT EDIT.

package v1alpha1

// ChartSubscription defines a subscription to a Helm chart repository.
type ChartSubscription struct {
	// DiscoveryLimit is an optional limit on the number of chart versions that can be
	// discovered for this subscription. The limit is applied after filtering charts based on
	// the semverConstraint field. The upper limit for this field is 100.
	DiscoveryLimit int64 `json:"discoveryLimit,omitempty" protobuf:"varint,1,opt,name=discoveryLimit"`
	// Name specifies the name of a Helm chart to subscribe to within a classic chart repository
	// specified by the repoURL field. This field is required when the repoURL field points to a
	// classic chart repository and MUST otherwise be empty.
	Name string `json:"name,omitempty" protobuf:"bytes,2,opt,name=name"`
	// RepoURL specifies the URL of a Helm chart repository. It may be a classic chart
	// repository (using HTTP/S) OR a repository within an OCI registry. Classic chart
	// repositories can contain differently named charts. When this field points to such a
	// repository, the name field MUST also be used to specify the name of the desired chart
	// within that repository. In the case of a repository within an OCI registry, the URL
	// implicitly points to a specific chart and the name field MUST NOT be used. This field is
	// required.
	RepoURL string `json:"repoURL" protobuf:"bytes,3,opt,name=repoURL"`
	// SemverConstraint specifies constraints on what new chart versions are permissible. When
	// left unspecified, there will be no constraints, which means the latest version of the
	// chart will always be used. Care should be taken with leaving this field unspecified, as
	// it can lead to the unanticipated rollout of breaking changes.
	SemverConstraint string `json:"semverConstraint,omitempty" protobuf:"bytes,4,opt,name=semverConstraint"`
}

// GitSubscription defines a subscription to a Git repository.
type GitSubscription struct {
	// AllowTags is a regular expression that can optionally be used to limit the tags that are
	// considered in determining the newest commit of interest. Deprecated: Use allowTagsRegexes
	// instead.
	AllowTags string `json:"allowTags,omitempty" protobuf:"bytes,1,opt,name=allowTags"`
	// AllowTagsRegexes is a list of regular expressions that can optionally be used to limit
	// the tags that are considered. Only has effect when CommitSelectionStrategy is Lexical,
	// NewestTag, or SemVer.
	AllowTagsRegexes []string `json:"allowTagsRegexes,omitempty" protobuf:"bytes,2,rep,name=allowTagsRegexes"`
	// Branch references a particular branch of the repository. Only has effect when
	// CommitSelectionStrategy is NewestFromBranch or unspecified. When left unspecified, the
	// subscription is implicitly to the repository's default branch. Must be a valid branch
	// name.
	Branch string `json:"branch,omitempty" protobuf:"bytes,3,opt,name=branch"`
	// CommitSelectionStrategy specifies the rules for how to identify the newest commit of
	// interest in the repository specified by the RepoURL field.
	CommitSelectionStrategy CommitSelectionStrategy `json:"commitSelectionStrategy,omitempty" protobuf:"bytes,4,opt,name=commitSelectionStrategy"`
	// DiscoveryLimit is an optional limit on the number of commits that can be discovered for
	// this subscription. The upper limit is 100.
	DiscoveryLimit int64 `json:"discoveryLimit,omitempty" protobuf:"varint,5,opt,name=discoveryLimit"`
	// ExcludePaths is a list of selectors that designate paths in the repository that should
	// NOT trigger the production of new Freight when changes are detected therein.
	ExcludePaths []string `json:"excludePaths,omitempty" protobuf:"bytes,6,rep,name=excludePaths"`
	// ExpressionFilter is an expression that can optionally be used to limit the commits or
	// tags that are considered in determining the newest commit of interest based on their
	// metadata.
	ExpressionFilter string `json:"expressionFilter,omitempty" protobuf:"bytes,7,opt,name=expressionFilter"`
	// IgnoreTags is a list of tags that must be ignored when determining the newest commit of
	// interest. Deprecated: Use ignoreTagsRegexes instead.
	IgnoreTags []string `json:"ignoreTags,omitempty" protobuf:"bytes,8,rep,name=ignoreTags"`
	// IgnoreTagsRegexes is a list of regular expressions that can optionally be used to exclude
	// tags from consideration. Only has effect when CommitSelectionStrategy is Lexical,
	// NewestTag, or SemVer.
	IgnoreTagsRegexes []string `json:"ignoreTagsRegexes,omitempty" protobuf:"bytes,9,rep,name=ignoreTagsRegexes"`
	// IncludePaths is a list of selectors that designate paths in the repository that should
	// trigger the production of new Freight when changes are detected therein.
	IncludePaths []string `json:"includePaths,omitempty" protobuf:"bytes,10,rep,name=includePaths"`
	// InsecureSkipTLSVerify specifies whether certificate verification errors should be ignored
	// when connecting to the repository. This should be enabled only with great caution.
	InsecureSkipTLSVerify bool `json:"insecureSkipTLSVerify,omitempty" protobuf:"varint,11,opt,name=insecureSkipTLSVerify"`
	// URL is the repository's URL. This is a required field.
	RepoURL string `json:"repoURL" protobuf:"bytes,12,opt,name=repoURL"`
	// SemverConstraint specifies constraints on what new tagged commits are considered in
	// determining the newest commit of interest. Only has effect when CommitSelectionStrategy
	// is SemVer.
	SemverConstraint string `json:"semverConstraint,omitempty" protobuf:"bytes,13,opt,name=semverConstraint"`
	// StrictSemvers specifies whether only "strict" semver tags should be considered. A
	// "strict" semver tag contains ALL of major, minor, and patch version components. Only has
	// effect when CommitSelectionStrategy is SemVer.
	StrictSemvers *bool `json:"strictSemvers,omitempty" protobuf:"varint,14,opt,name=strictSemvers"`
}

// ImageSubscription defines a subscription to a container image repository.
type ImageSubscription struct {
	// AllowTags is a regular expression that can optionally be used to limit the image tags
	// that are considered in determining the newest version of an image. This field is
	// optional. Deprecated: Use allowTagsRegexes instead. Beginning in v1.11.0, artifact
	// discovery will FAIL if this field is non-empty. This field will be removed in v1.13.0.
	AllowTags string `json:"allowTags,omitempty" protobuf:"bytes,1,opt,name=allowTags"`
	// AllowTagsRegexes is a list of regular expressions that can optionally be used to limit
	// the image tags that are considered in determining the newest revision of an image. This
	// field is optional.
	AllowTagsRegexes []string `json:"allowTagsRegexes,omitempty" protobuf:"bytes,2,rep,name=allowTagsRegexes"`
	// CacheByTag specifies whether to cache image metadata by tag. This can improve performance
	// but may lead to stale data if mutable tags are used.
	CacheByTag bool `json:"cacheByTag,omitempty" protobuf:"varint,3,opt,name=cacheByTag"`
	// Constraint specifies ImageSelectionStrategy-specific constraints on what new image
	// revisions are permissible. Acceptable values for this field vary contextually by
	// ImageSelectionStrategy. The field is optional for some strategies. Others either require
	// it or ignore it. For strategies that treat this field as optional, specifying no value
	// means "no constraints."
	Constraint string `json:"constraint,omitempty" protobuf:"bytes,4,opt,name=constraint"`
	// DiscoveryLimit is an optional limit on the number of image references that can be
	// discovered for this subscription. The limit is applied after filtering images based on
	// the AllowTagsRegexes and IgnoreTagsRegexes fields. When left unspecified, the field is
	// implicitly treated as if its value were "20". The upper limit for this field is 100.
	DiscoveryLimit int64 `json:"discoveryLimit,omitempty" protobuf:"varint,5,opt,name=discoveryLimit"`
	// IgnoreTags is a list of tags that must be ignored when determining the newest version of
	// an image. No regular expressions or glob patterns are supported yet. This field is
	// optional. Deprecated: Use ignoreTagsRegexes instead. Beginning in v1.11.0, artifact
	// discovery will FAIL if this field is non-empty. This field will be removed in v1.13.0.
	IgnoreTags []string `json:"ignoreTags,omitempty" protobuf:"bytes,6,rep,name=ignoreTags"`
	// IgnoreTagsRegexes is a list of regular expressions that can optionally be used to exclude
	// tags from consideration when determining the newest revision of an image. This field is
	// optional.
	IgnoreTagsRegexes []string `json:"ignoreTagsRegexes,omitempty" protobuf:"bytes,7,rep,name=ignoreTagsRegexes"`
	// ImageSelectionStrategy specifies the rules for how to identify the newest version of the
	// image specified by the RepoURL field. This field is optional. When left unspecified, the
	// field is implicitly treated as if its value were "SemVer". Accepted values: "Digest",
	// "Lexical", "NewestBuild", "SemVer".
	ImageSelectionStrategy ImageSelectionStrategy `json:"imageSelectionStrategy,omitempty" protobuf:"bytes,8,opt,name=imageSelectionStrategy"`
	// InsecureSkipTLSVerify specifies whether certificate verification errors should be ignored
	// when connecting to the repository. This should be enabled only with great caution.
	InsecureSkipTLSVerify bool `json:"insecureSkipTLSVerify,omitempty" protobuf:"varint,9,opt,name=insecureSkipTLSVerify"`
	// Platform is a string of the form <os>/<arch> that limits the tags that can be considered
	// when searching for new versions of an image. This field is optional. When left
	// unspecified, it is implicitly equivalent to the OS/architecture of the Kargo controller.
	// Care should be taken to set this value correctly in cases where the image will run on a
	// Kubernetes node with a different OS/architecture than the Kargo controller.
	Platform string `json:"platform,omitempty" protobuf:"bytes,10,opt,name=platform"`
	// RepoURL specifies the URL of the image repository to subscribe to. The value in this
	// field MUST NOT include an image tag. This field is required.
	RepoURL string `json:"repoURL" protobuf:"bytes,11,opt,name=repoURL"`
	// StrictSemvers specifies whether only "strict" semver tags should be considered. A
	// "strict" semver tag is one containing ALL of major, minor, and patch version components.
	// This is enabled by default, but only has any effect when the ImageSelectionStrategy is
	// SemVer. This should be disabled cautiously, as it is not uncommon to tag container images
	// with short Git commit hashes, which could be mistaken for a semver string containing the
	// major version number only.
	StrictSemvers *bool `json:"strictSemvers,omitempty" protobuf:"varint,12,opt,name=strictSemvers"`
}

// CommitSelectionStrategy specifies the rules for how to identify the newest commit of
// interest in the repository specified by the RepoURL field.
type CommitSelectionStrategy string

const (
	CommitSelectionStrategyLexical          CommitSelectionStrategy = "Lexical"
	CommitSelectionStrategySemVer           CommitSelectionStrategy = "SemVer"
	CommitSelectionStrategyNewestFromBranch CommitSelectionStrategy = "NewestFromBranch"
	CommitSelectionStrategyNewestTag        CommitSelectionStrategy = "NewestTag"
)

// ImageSelectionStrategy specifies the rules for how to identify the newest version of the
// image specified by the RepoURL field. This field is optional. When left unspecified, the
// field is implicitly treated as if its value were "SemVer". Accepted values: "Digest",
// "Lexical", "NewestBuild", "SemVer".
type ImageSelectionStrategy string

const (
	ImageSelectionStrategyDigest      ImageSelectionStrategy = "Digest"
	ImageSelectionStrategyLexical     ImageSelectionStrategy = "Lexical"
	ImageSelectionStrategySemVer      ImageSelectionStrategy = "SemVer"
	ImageSelectionStrategyNewestBuild ImageSelectionStrategy = "NewestBuild"
)
