{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "KCLRunConfig",
  "type": "object",
  "additionalProperties": false,
  "required": ["inputPath"],
  "properties": {
    "inputPath": {
      "type": "array",
      "description": "InputPath are paths to directories containing KCL files (*.k) to execute, or paths to individual .k files.",
      "items": {
        "type": "string",
        "minLength": 1
      },
      "minItems": 1
    },
    "outputPath": {
      "type": "string",
      "description": "OutputPath is the path where the KCL output should be written. If not specified, output will be returned in the step result.",
      "minLength": 1
    },
    "args": {
      "type": "array",
      "description": "Args are additional arguments to pass to the KCL execution as key-value pairs.",
      "items": {
        "type": "string"
      }
    },
    "settings": {
      "type": "object",
      "description": "Settings are key-value pairs to pass to the KCL execution.",
      "additionalProperties": {
        "type": "string"
      }
    },
    "valueFiles": {
      "type": "array",
      "description": "ValueFiles are paths to YAML/JSON files containing values to be used during KCL execution. These files will be made available to KCL as external data sources.",
      "items": {
        "type": "string",
        "minLength": 1
      }
    },
    "oci": {
      "type": "object",
      "description": "OCI configuration for fetching schema definitions from upstream registries.",
      "additionalProperties": false,
      "properties": {
        "registry": {
          "type": "string",
          "description": "Registry URL for OCI schema definitions.",
          "default": "ghcr.io"
        },
        "repo": {
          "type": "string", 
          "description": "Repository name for OCI schema definitions.",
          "default": "kcl-lang"
        }
      }
    }
  }
}
