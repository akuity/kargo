
{{- if or (and .Values.api.enabled .Values.api.tls.enabled .Values.api.tls.selfSignedCert) (and .Values.api.enabled .Values.api.ingress.enabled .Values.api.ingress.tls.enabled .Values.api.ingress.tls.selfSignedCert) (and .Values.api.enabled .Values.api.oidc.enabled .Values.api.oidc.dex.enabled .Values.api.oidc.dex.tls.selfSignedCert) (and .Values.externalWebhookServer.enabled .Values.externalWebhookServer.tls.enabled .Values.externalWebhookServer.tls.selfSignedCert) (and .Values.externalWebhookServer.enabled .Values.externalWebhookServer.ingress.enabled .Values.externalWebhookServer.ingress.tls.enabled .Values.externalWebhookServer.ingress.tls.selfSignedCert) (and .Values.webhooksServer.enabled .Values.webhooksServer.tls.selfSignedCert) }}
apiVersion: cert-manager.io/v1
kind: Issuer
metadata:
  name: kargo-selfsigned-cert-issuer
  namespace: {{ .Release.Namespace }}
spec:
  selfSigned: {}
{{- end }}
