{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "title": "ChartSubscription",
    "description": "ChartSubscription defines a subscription to a Helm chart repository.",
    "type": "object",
    "required": ["repoURL"],
    "properties": {
        "repoURL": {
            "type": "string",
            "minLength": 1,
            "pattern": "^(((https?)|(oci))://)(([\\w\\d\\.\\-]+)(:([\\d]+)?)?(/.*)*$",
            "description": "RepoURL specifies the URL of a Helm chart repository. It may be a classic chart repository (using HTTP/S) OR a repository within an OCI registry. Classic chart repositories can contain differently named charts. When this field points to such a repository, the name field MUST also be used to specify the name of the desired chart within that repository. In the case of a repository within an OCI registry, the URL implicitly points to a specific chart and the name field MUST NOT be used. This field is required."
        },
        "name": {
            "type": "string",
            "description": "Name specifies the name of a Helm chart to subscribe to within a classic chart repository specified by the repoURL field. This field is required when the repoURL field points to a classic chart repository and MUST otherwise be empty."
        },
        "semverConstraint": {
            "type": "string",
            "description": "SemverConstraint specifies constraints on what new chart versions are permissible. When left unspecified, there will be no constraints, which means the latest version of the chart will always be used. Care should be taken with leaving this field unspecified, as it can lead to the unanticipated rollout of breaking changes."
        },
        "discoveryLimit": {
            "type": "integer",
            "minimum": 1,
            "maximum": 100,
            "default": 20,
            "description": "DiscoveryLimit is an optional limit on the number of chart versions that can be discovered for this subscription. The limit is applied after filtering charts based on the semverConstraint field. The upper limit for this field is 100."
        }
    },
    "additionalProperties": false
}
